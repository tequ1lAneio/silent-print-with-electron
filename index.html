<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <h1>Hello World!</h1>
    <button id="">version</button>
    <button id="tool">openDevTool</button>
    <button id="print">打印</button>

    <div id="app">
        
    </div>
    <script src="rederer.js"></script>
    <script>
    console.log(electron)
    const ipcRenderer = electron.ipcRenderer
    // new Vue({
    //     el: "#app",
    //     data: {
    //         arr: []
    //     },
    //     mounted() {
    //         ipcRenderer.on('ping', (e, arr) => { //接收响应
    //             console.log(e)
    //             console.log(arr)
    //             this.arr = arr;
    //             ipcRenderer.sendToHost('pong') //向webview所在页面的进程传达消息
    //         })
    //     },
    //     methods: {}
    // })




    const tool = document.querySelector('#tool')
    tool.onclick = function() {
        // window.webContents.openDevTools()
    }

    document.querySelector('#print').onclick = (e) => {
        window.print()
    }

    function notifyMe() {
        // 先检查浏览器是否支持
        if (!("Notification" in window)) {
            alert("This browser does not support desktop notification");
        }

        // 检查用户是否同意接受通知
        else if (Notification.permission === "granted") {
            // If it's okay let's create a notification
            var notification = new Notification("Hi there!");
        }

        // 否则我们需要向用户获取权限
        else if (Notification.permission !== 'denied') {
            Notification.requestPermission(function(permission) {
                // 如果用户同意，就可以向他们发送通知
                if (permission === "granted") {
                    var notification = new Notification("Hi there!");
                }
            });
        }


        // 最后，如果执行到这里，说明用户已经拒绝对相关通知进行授权
        // 出于尊重，我们不应该再打扰他们了
    }

    console.log(window)
    const Notification = window.Notification

    let myNotification = new Notification('标题', {
        body: '通知正文内容'
    })

    myNotification.onshow = () => {
        console.log('通知显示')
    }
    </script>
</body>

</html>